async function loadDetail() {
    const params = new URLSearchParams(window.location.search);
    const slug = params.get('slug'); // 這會抓到 "testing-on-notion-blog-cms"
    const container = document.getElementById('post-content');

    try {
        // 使用絕對路徑 + 隨機參數防止快取
        const url = `https://kirstenyau.github.io/posts/${slug}.md?v=${new Date().getTime()}`;
        const response = await fetch(url);
        
        if (!response.ok) throw new Error('檔案尚未就緒');

        const mdText = await response.text();
        
        // 移除 Front-matter (--- 之間的內容)
        const cleanMd = mdText.replace(/^---[\s\S]*?---/, '');
        
        // 渲染 Markdown
        container.innerHTML = marked.parse(cleanMd);
        
        // 自動更新標題
        document.title = "Kirsten's Blog | Post";
        
    } catch (err) {
        container.innerHTML = "載入中，請稍候... (若長時間沒反應請刷新頁面)";
        console.error(err);
    }
}
